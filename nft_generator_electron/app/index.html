<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="../node_modules/animate.css/animate.min.css">
        <style>
            #overlay {
            height: 100%;
            width: 100%;
            position: fixed;
            z-index: 999;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: gainsboro;
            opacity: 1;
            display: table;
            }
            #overlay div {
                display: table-cell;
            }

            .container {
                height: 100%;
            }

            .sticky-bottom {
                z-index: 998;
            }

            .spinner-grow {
                --bs-spinner-animation-speed: 5s;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="overlay" id="overlay">
                <div class="align-middle text-center">正在启动图像处理服务……<br>这个过程大约需要十秒钟</div>
            </div>
            <div class="row mt-3">
                <div class="input-group col">
                    <span class="input-group-text">素材文件夹</span>
                    <input type="text" class="form-control" placeholder="请点击右侧按钮选择→→→" id="input-folder-input" readonly>
                    <button type="button" class="btn btn-primary" id="input-folder-button">浏览…</button>
                </div>
            </div>
            <div class="row mt-3">
                <div class="input-group col">
                    <span class="input-group-text">输出文件夹</span>
                    <input type="text" class="form-control" placeholder="会根据素材文件夹自动设置，或者点击右侧按钮选择→→→" id="output-folder-input" readonly>
                    <button type="button" class="btn btn-primary" id="output-folder-button">浏览…</button>
                </div>
            </div>
            <div class="row g-2 mt-3">
                <div class="col">
                    <div class="form-floating">
                        <input type="text" class="form-control" id="collection-name-input">
                        <label for="collection-name-input">藏品系列名称</label>
                    </div>
                </div>
                <div class="col">
                    <div class="form-floating">
                        <select class="form-select" id="metadata-std-select">
                            <option value="none" selected>不生成 Metadata</option>
                            <option value="opensea">Opensea（推荐）</option>
                            <option value="enjin">Enjin（ERC1155）</option>
                        </select>
                        <label for="metadata-std-select">Metadata 标准</label>
                    </div>
                </div>
            </div>
            <div class="row mt-3 justify-content-center">
                <div class="col-5">
                    <div class="form-floating">
                        <input type="number" class="form-control" id="count-input">
                        <label for="count-input">生成藏品数量</label>
                    </div>
                </div>
            </div>
            <div class="row mt-5 justify-content-center">
                <div class="col-auto">
                    <span class="text-danger" id="alert-msg-span">填写完毕后点击“开始”</span>
                </div>
            </div>
            <div class="row mt-1" style="margin-left: 0px; margin-right: 0px;">
                <div class="col progress p-0" style="height: 38px;">
                    <div class="progress-bar" role="progressbar" style="width: 0%;" id="progress-bar">0/0</div>
                </div>
                <div class="col-2" style="padding-right: 0px;">
                    <button type="button" class="btn btn-primary" style="width: 100%;" id="start-button">开始</button>
                </div>
            </div>
            <div class="fixed-bottom bg-light d-flex align-items-center" style="height: 30px;">
                <span class="spinner-grow text-danger spinner-grow-sm m-2" role="status" id="server-status-spinner"></span>
                <span class="p-0 text-black-50" id="server-status-span">图像处理服务状态未知</span>
            </div>
        </div>
        <script src="js/index.js"></script>
    </body>
</html>